#!/bin/python3

for i in range(int(input())):
    n,c,m=map(int,input().split())
    sum1=a=n//c
    while(a>=m):
        d=divmod(a,m)
        sum1+=d[0]
        a=d[0]+d[1]
    print(sum1)
